<process name="NAB.FirstHomeLoanDepositScheme.QueueBuilder" version="1.0" bpversion="6.4.2.10610" narrative="This process builds the queue for reserving applications in the NHFIC FHLDS portal." byrefcollection="true" preferredid="638889f3-af04-4e45-b1ef-7f050052c8db">
  <view>
    <camerax>184</camerax>
    <cameray>886</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="d7d82874-6ad4-4c2e-a3db-af5036adb775" type="Normal" published="False">
    <name>GetInputFile</name>
    <view>
      <camerax>0</camerax>
      <cameray>63</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="a1c7218c-0791-4960-a046-218db3fe4144" type="Normal" published="False">
    <name>AdjustDates</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="468a5db4-53ca-40fa-8219-9a8fa99ea143" type="Normal" published="False">
    <name>ValidateData</name>
    <view>
      <camerax>-158</camerax>
      <cameray>870</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="71e1d625-82e7-4a7a-a537-a72f4d68ede0" name="Start" type="Start">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>-180</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>72b38c25-898e-4b07-8029-a38f465f4ff1</onsuccess>
  </stage>
  <stage stageid="48fbac7e-79d1-40a1-8e27-37c9dd9be1e4" name="End" type="End">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>1080</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
  </stage>
  <stage stageid="5339cd9d-510b-4615-94b7-d8a6e048045e" name="Stage1" type="ProcessInfo">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>-105</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
  </stage>
  <stage stageid="abb43d69-19d8-48ee-a0b3-cc9688915bbc" name="Data Items - Text" type="Block">
    <narrative>
    </narrative>
    <displayx>-435</displayx>
    <displayy>-15</displayy>
    <displaywidth>315</displaywidth>
    <displayheight>255</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="1249e595-1b7d-407f-aac7-0bbcc5aa58ae" name=" txtLockNameInput" type="Data">
    <narrative>
    </narrative>
    <displayx>-345</displayx>
    <displayy>30</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">FHLDS Input file</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="96f028f3-4311-4ff4-82e0-6754f0462567" name="txtLockInputToken" type="Data">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>30</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e555c528-e620-4e3c-9c0b-5a2a0115c9a4" name="AcquireLock" type="Action">
    <narrative>Acquire the lock to process the input file(s).</narrative>
    <displayx>345</displayx>
    <displayy>-30</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Name" narrative="The name of the required lock. Mandatory parameter." expr="[ txtLockNameInput]" />
      <input type="timespan" name="Timeout" narrative="The maximum amount of time to await the lock. Default is to wait forever" expr="MakeTimeSpan(0, 0, 0, 0)" />
      <input type="text" name="Preferred Token" narrative="The preferred token to use for the lock. Default behaviour is to generate a new unique token." expr="&quot;&quot;" />
      <input type="text" name="Comment" narrative="The comments to set on the lock" expr="&quot;Process input files for FHLDS&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Token" narrative="The token registered against the lock. This will be empty if the lock could not be acquired" stage="txtLockInputToken" />
    </outputs>
    <onsuccess>170f1339-75bb-42f9-abaa-cfc1de06b25e</onsuccess>
    <resource object="BluePrism.AutomateAppCore.clsEnvironmentLockingBusinessObject" action="Acquire Lock" />
  </stage>
  <stage stageid="170f1339-75bb-42f9-abaa-cfc1de06b25e" name="GotLock?" type="Decision">
    <narrative>Check if the lock was obtained</narrative>
    <displayx>345</displayx>
    <displayy>30</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[txtLockInputToken]&lt;&gt;&quot;&quot;" />
    <ontrue>32ccbcf1-7fb2-463a-ad5c-3c5f15d56cf2</ontrue>
    <onfalse>f05a9bbe-4b59-4b51-9966-20f9d03529c1</onfalse>
  </stage>
  <stage stageid="f05a9bbe-4b59-4b51-9966-20f9d03529c1" name="Sleep" type="Action">
    <narrative>Wait for 5 seconds before attempting to acquire the lock again.</narrative>
    <displayx>225</displayx>
    <displayy>30</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="number" name="Sleep Time (Seconds)" narrative="The time (in seconds) for which to sleep" expr="5" />
    </inputs>
    <onsuccess>44e78fe3-056b-4140-bf81-299873455c1e</onsuccess>
    <resource object="Utility - General" action="Sleep" />
  </stage>
  <stage stageid="44e78fe3-056b-4140-bf81-299873455c1e" name="Increment" type="Calculation">
    <narrative>Increment the retry counter.</narrative>
    <displayx>105</displayx>
    <displayy>30</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>1415d3ac-ff9f-4e36-bcb5-1642d2827adc</onsuccess>
    <calculation expression="[numRetryCount] + 1" stage="numRetryCount" />
  </stage>
  <stage stageid="1415d3ac-ff9f-4e36-bcb5-1642d2827adc" name="Retry?" type="Decision">
    <narrative>Check if lock acquisition can be attempted again</narrative>
    <displayx>105</displayx>
    <displayy>-30</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[numRetryCount]&lt;[numRetryLimit]" />
    <ontrue>e555c528-e620-4e3c-9c0b-5a2a0115c9a4</ontrue>
    <onfalse>f4e81279-3104-4174-9df5-4dc7b0cda203</onfalse>
  </stage>
  <stage stageid="c912a691-0828-45b8-9e19-33599986a896" name="SE-LockAcquisitionError" type="Exception">
    <narrative>Exception raised as the lock could not be acquired.</narrative>
    <displayx>-15</displayx>
    <displayy>105</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <exception type="System Exception" detail="&quot;Lock could not be acquired for the input files.&quot;" />
  </stage>
  <stage stageid="f4e81279-3104-4174-9df5-4dc7b0cda203" name="Anchor1" type="Anchor">
    <narrative>
    </narrative>
    <displayx>-15</displayx>
    <displayy>-30</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>c912a691-0828-45b8-9e19-33599986a896</onsuccess>
  </stage>
  <stage stageid="bdaecb07-b415-4eaa-af4b-480ef5adb2a8" name="numCount" type="Data">
    <narrative>
    </narrative>
    <displayx>-210</displayx>
    <displayy>315</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0fa181bc-d214-40b8-b306-a21b9f7abb3e" name="numRetryLimit" type="Data">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>360</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Tahoma" size="10" style="Regular" color="000000" />
    <datatype>number</datatype>
    <initialvalue>3</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="24c7f5dc-abc1-4611-be5b-17eb923548a4" name="numRetryCount" type="Data">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>405</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Tahoma" size="10" style="Regular" color="000000" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4108c53b-bb7a-40c6-b9ce-0e6a21cf6810" name="Data Items - Number" type="Block">
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>270</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>165</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="72b38c25-898e-4b07-8029-a38f465f4ff1" name="InitializeVariables" type="MultipleCalculation">
    <narrative>Set the variables to initial values.</narrative>
    <displayx>345</displayx>
    <displayy>-105</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>e555c528-e620-4e3c-9c0b-5a2a0115c9a4</onsuccess>
    <steps>
      <calculation expression="False" stage="flgApplicationLaunched" />
      <calculation expression="0" stage="numRetryCount" />
      <calculation expression="0" stage="numCount" />
    </steps>
  </stage>
  <stage stageid="32ccbcf1-7fb2-463a-ad5c-3c5f15d56cf2" name="ResetRetryCounter" type="Calculation">
    <narrative>Reset the retry counter</narrative>
    <displayx>345</displayx>
    <displayy>90</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>de0d946b-5dfc-444d-94f2-f02ca83383bb</onsuccess>
    <calculation expression="0" stage="numRetryCount" />
  </stage>
  <stage stageid="b895ee41-dd5e-469d-8bd9-3de1845ec4c3" name="GetInputFile" type="SubSheetInfo">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Check the input folder and obtain the input file for building the queue.</narrative>
    <displayx>-195</displayx>
    <displayy>-105</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
  </stage>
  <stage stageid="37f4ffa8-ea58-4097-92dc-c21b44d6371b" name="Start" type="Start">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <preconditions>
      <condition narrative="The file exists in the input folder." />
    </preconditions>
    <postconditions>
      <condition narrative="File contents are read into the collection." />
    </postconditions>
    <narrative>
    </narrative>
    <displayx>180</displayx>
    <displayy>-135</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>e80be61a-878d-449c-a040-22e91fbd0a70</onsuccess>
  </stage>
  <stage stageid="da811a6e-67af-44f2-878e-8ab18f37b3a5" name="End" type="End">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>180</displayx>
    <displayy>195</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <outputs>
      <output type="collection" name="InputFiles" narrative="The collection of input files" stage="InputFiles" />
    </outputs>
  </stage>
  <stage stageid="00c85fa2-0079-47b4-a624-2b1277a476a6" name="flgSuccess" type="Data">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-225</displayx>
    <displayy>270</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ff5a19ee-62dc-41bb-a279-b7e862559abb" name="InputFiles" type="Collection">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-210</displayx>
    <displayy>180</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Path" type="text" />
      <field name="Folder" type="text" />
      <field name="Name" type="text" />
      <field name="Extension" type="text" />
      <field name="Created" type="datetime" />
      <field name="Last Accessed" type="datetime" />
      <field name="Last Written" type="datetime" />
      <field name="Read Only" type="flag" />
      <field name="Bytes" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="a21003bd-802d-451d-81fc-33cedfda3b6f" name="txtMessage" type="Data">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-225</displayx>
    <displayy>0</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5cb3f5c2-8f3c-4a61-a195-fb5fab280c9e" name="env_Txt_FHLDS_InputFolderPath" type="Data">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-165</displayx>
    <displayy>90</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="dd0d0d2a-16c4-4164-bb58-f0ecd85c4336" name="env_Txt_FHLDS_InputFilePattern" type="Data">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-165</displayx>
    <displayy>45</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ba1ddc57-eb2f-4689-828c-f0ce1fa7c62e" name="DataItem - Text" type="Block">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>-45</displayy>
    <displaywidth>210</displaywidth>
    <displayheight>165</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8977f8e0-d7d2-4382-ac58-ee08f8eb7d09" name="DataItem - Collection" type="Block">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>135</displayy>
    <displaywidth>135</displaywidth>
    <displayheight>75</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3097cdc1-ab81-494c-aae7-3c8c613bd13b" name="DataItem - Flag" type="Block">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>225</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>75</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="7f3dc8fb-6240-42a9-a421-45ef8a302bdd" name="GetFiles" type="Action">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Obtain the list of files present in the input folder.</narrative>
    <displayx>180</displayx>
    <displayy>60</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Folder" narrative="The folder in which to look for files" expr="[env_Txt_FHLDS_InputFolderPath]" />
      <input type="text" name="Patterns CSV" narrative="The comma seperated list of wildcard patterns" expr="[env_Txt_FHLDS_InputFilePattern]" />
    </inputs>
    <outputs>
      <output type="flag" name="Success" narrative="True if successful" stage="flgSuccess" />
      <output type="text" name="Message" narrative="A message if unsuccessful" stage="txtMessage" />
      <output type="collection" name="Files" narrative="The collection of files found" stage="InputFiles" />
    </outputs>
    <onsuccess>40bf4db8-206a-4b31-808a-19ac1cefc905</onsuccess>
    <resource object="Utility - File Management" action="Get Files" />
  </stage>
  <stage stageid="40bf4db8-206a-4b31-808a-19ac1cefc905" name="DoFilesExist?" type="Decision">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Check if the files exist on disk.</narrative>
    <displayx>180</displayx>
    <displayy>120</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[flgSuccess]" />
    <ontrue>da811a6e-67af-44f2-878e-8ab18f37b3a5</ontrue>
    <onfalse>624d65c8-8df9-4fd7-8285-3809aeedce99</onfalse>
  </stage>
  <stage stageid="624d65c8-8df9-4fd7-8285-3809aeedce99" name="SE-FileNotFoundError" type="Exception">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Exception raised for the input file not being found in the input folder.</narrative>
    <displayx>345</displayx>
    <displayy>120</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <exception type="System Exception" detail="[txtMessage]" />
  </stage>
  <stage stageid="e80be61a-878d-449c-a040-22e91fbd0a70" name="CheckInputFolderExists" type="Action">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Verify that the input folder exists on disk before looking for the input files.</narrative>
    <displayx>180</displayx>
    <displayy>-60</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Directory Name" narrative="The directory to check exists" expr="[env_Txt_FHLDS_InputFolderPath]" />
    </inputs>
    <outputs>
      <output type="flag" name="Exists" narrative="True if the directory exists" stage="flgSuccess" />
    </outputs>
    <onsuccess>d474d787-8c28-48a0-bbdd-bf9dd7a1f503</onsuccess>
    <resource object="Utility - File Management" action="Directory Exists" />
  </stage>
  <stage stageid="d474d787-8c28-48a0-bbdd-bf9dd7a1f503" name="DoesInputFolderExist?" type="Decision">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Check if the input folder exists on disk.</narrative>
    <displayx>180</displayx>
    <displayy>0</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[flgSuccess]" />
    <ontrue>7f3dc8fb-6240-42a9-a421-45ef8a302bdd</ontrue>
    <onfalse>cddedb5e-3189-418b-b8b0-4422162118a4</onfalse>
  </stage>
  <stage stageid="cddedb5e-3189-418b-b8b0-4422162118a4" name="SE-FolderNotFoundError" type="Exception">
    <subsheetid>d7d82874-6ad4-4c2e-a3db-af5036adb775</subsheetid>
    <narrative>Exception raised as the input folder does not exist.</narrative>
    <displayx>360</displayx>
    <displayy>0</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <exception type="System Exception" detail="&quot;The input folder &quot; &amp; [env_Txt_FHLDS_InputFolderPath] &amp; &quot; does not exist.&quot;" />
  </stage>
  <stage stageid="de0d946b-5dfc-444d-94f2-f02ca83383bb" name="GetInputFiles" type="SubSheet">
    <narrative>Obtain the input files from the input folder for processing.</narrative>
    <displayx>345</displayx>
    <displayy>150</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <outputs>
      <output type="collection" name="InputFiles" narrative="The collection of input files" stage="InputFiles" />
    </outputs>
    <onsuccess>66a575ea-ad83-4943-b10c-efd8bce7bd51</onsuccess>
    <processid>d7d82874-6ad4-4c2e-a3db-af5036adb775</processid>
  </stage>
  <stage stageid="ea8988cd-0139-47c0-84f3-e62b56e0a791" name="TODO: Handle exceptions" type="Note">
    <narrative>TODO: Handle exceptions</narrative>
    <displayx>195</displayx>
    <displayy>150</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>de0d946b-5dfc-444d-94f2-f02ca83383bb</onsuccess>
  </stage>
  <stage stageid="66a575ea-ad83-4943-b10c-efd8bce7bd51" name="CountFiles" type="Action">
    <narrative>Count the number of files obtained to make sure that at least one was found.</narrative>
    <displayx>345</displayx>
    <displayy>210</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;InputFiles&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" narrative="The number of rows counted in the collection" stage="numCount" />
    </outputs>
    <onsuccess>35511a49-819f-4db2-9ed8-08a580e561a7</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="26174106-8d4c-4395-aa95-a145e758e55d" name="InputFiles" type="Collection">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>495</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Path" type="text" />
      <field name="Folder" type="text" />
      <field name="Name" type="text" />
      <field name="Extension" type="text" />
      <field name="Created" type="datetime" />
      <field name="Last Accessed" type="datetime" />
      <field name="Last Written" type="datetime" />
      <field name="Read Only" type="flag" />
      <field name="Bytes" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="ea37ac34-19b2-4fa2-8a81-27b49a432229" name="Data Item - Collections" type="Block">
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>450</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>375</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="35511a49-819f-4db2-9ed8-08a580e561a7" name="IsFileAvailable?" type="Decision">
    <narrative>Check if any file was found in the input folder.</narrative>
    <displayx>345</displayx>
    <displayy>270</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[numCount]&gt;0" />
    <ontrue>f26ec3a5-c68b-47ba-aab2-4219721c0a1c</ontrue>
    <onfalse>0881133f-b3c6-4a4d-9e5e-593bd80cf670</onfalse>
  </stage>
  <stage stageid="0881133f-b3c6-4a4d-9e5e-593bd80cf670" name="SE-FileNotFoundError" type="Exception">
    <narrative>Exception raised as no input file was found.</narrative>
    <displayx>510</displayx>
    <displayy>270</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <exception type="System Exception" detail="&quot;No .csv files matching the specified pattern &quot; &amp; [env_Txt_FHLDS_InputFilePattern] &amp; &quot; found.&quot;" />
  </stage>
  <stage stageid="2b608f17-cef6-4564-b451-3ce41624ddaf" name="AdjustDates" type="SubSheetInfo">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>Adjust Dates to account for BluePrism converting based on UTC.</narrative>
    <displayx>-195</displayx>
    <displayy>-105</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
  </stage>
  <stage stageid="142b5045-1b94-48b2-b370-09a5ab5ea674" name="Start" type="Start">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-105</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="datetime" name="InputDate" stage="InputDate" />
    </inputs>
    <onsuccess>3de79033-9bf0-4933-8c7d-2ff1bcfed183</onsuccess>
  </stage>
  <stage stageid="20ab5bc1-99bf-4396-a0c6-8cc17fb5d221" name="End" type="End">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>135</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <outputs>
      <output type="datetime" name="OutputDate" stage="OutputDate" />
    </outputs>
  </stage>
  <stage stageid="f26ec3a5-c68b-47ba-aab2-4219721c0a1c" name="MoreThanOneFileAvailable?" type="Decision">
    <narrative>Check if more than one file was found in the input folder.</narrative>
    <displayx>345</displayx>
    <displayy>345</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[numCount]&gt;1" />
    <ontrue>71ef891e-00f4-4815-a490-038e98634c33</ontrue>
    <onfalse>b5ba5292-eb7e-4c11-8a0e-59c855d072d6</onfalse>
  </stage>
  <stage stageid="71ef891e-00f4-4815-a490-038e98634c33" name="SE-MultipleInputFilesFoundError" type="Exception">
    <narrative>Exception raised as multiple input files were found.</narrative>
    <displayx>525</displayx>
    <displayy>345</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <exception type="System Exception" detail="&quot;Multiple .csv files matching the specified pattern &quot; &amp; [env_Txt_FHLDS_InputFilePattern] &amp; &quot; found.&quot;" />
  </stage>
  <stage stageid="37c98efe-5a21-4808-aaa6-3a302a2913d6" name="flgApplicationLaunched" type="Data">
    <narrative>This flag indicates whether the eBOBS application is launched.</narrative>
    <displayx>-225</displayx>
    <displayy>900</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4e803f92-1452-4c06-92c9-011b36d43a04" name="GetFileData" type="Action">
    <loginhibitparameters />
    <narrative>Retrieve the data from the file.</narrative>
    <displayx>345</displayx>
    <displayy>480</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="CSV File Path" narrative="The full path to the CSV file" expr="[txtInputFile]" />
      <input type="flag" name="First Line Is Header" narrative="Set True if you want to treat the first line as a header" expr="True" />
    </inputs>
    <outputs>
      <output type="collection" name="CSV Values" narrative="The collection populated with the values of the CSV file" stage="BuyersData" />
    </outputs>
    <onsuccess>85443058-e017-4777-9bba-140ec05ee896</onsuccess>
    <resource object="Utility - CSV File Management" action="Get CSV UTF8 Text As Collection" />
  </stage>
  <stage stageid="b5ba5292-eb7e-4c11-8a0e-59c855d072d6" name="GetInputFile" type="Calculation">
    <narrative>Obtain the Input file path.</narrative>
    <displayx>345</displayx>
    <displayy>420</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>4e803f92-1452-4c06-92c9-011b36d43a04</onsuccess>
    <calculation expression="[InputFiles.Folder]&amp; &quot;\&quot; &amp; [InputFiles.Name]" stage="txtInputFile" />
  </stage>
  <stage stageid="1a8c096a-4fd9-4960-9e4f-d0601e34c42d" name="txtInputFile" type="Data">
    <narrative>
    </narrative>
    <displayx>-375</displayx>
    <displayy>75</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b05f608e-b704-47ed-858f-997ed2536e6c" name="env_Txt_FHLDS_InputFolderPath" type="Data">
    <narrative>
    </narrative>
    <displayx>-330</displayx>
    <displayy>165</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="04aa4453-0bbf-4aed-8317-963e273a6d6b" name="env_Txt_FHLDS_InputFilePattern" type="Data">
    <narrative>
    </narrative>
    <displayx>-330</displayx>
    <displayy>120</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="1c2ac1c4-9ab7-44a3-ad7f-5d6b43889d5c" name="InputDate" type="Data">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>-210</displayx>
    <displayy>0</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0a42cde8-a7a5-485c-a733-76ef4fb25ecc" name="TODO: Handle exceptions" type="Note">
    <narrative>TODO: Handle exceptions</narrative>
    <displayx>195</displayx>
    <displayy>480</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>4e803f92-1452-4c06-92c9-011b36d43a04</onsuccess>
  </stage>
  <stage stageid="3de79033-9bf0-4933-8c7d-2ff1bcfed183" name="CreateTimeSpan" type="Calculation">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-15</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>460aeff3-8259-45a5-8486-c47b5f9f8826</onsuccess>
    <calculation expression="MakeTimeSpan(0, 11, 0, 0)" stage="TimeDifference" />
  </stage>
  <stage stageid="9747d763-e101-4ba5-bdd3-fa2560f85784" name="TimeDifference" type="Data">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>-210</displayx>
    <displayy>60</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>timespan</datatype>
    <initialvalue>0.00:00:00</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="460aeff3-8259-45a5-8486-c47b5f9f8826" name="AddTimeDifference" type="Calculation">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>60</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>20ab5bc1-99bf-4396-a0c6-8cc17fb5d221</onsuccess>
    <calculation expression="[InputDate] + [TimeDifference]" stage="OutputDate" />
  </stage>
  <stage stageid="c34ff110-8ac4-4373-818f-25c7d116aa05" name="OutputDate" type="Data">
    <subsheetid>a1c7218c-0791-4960-a046-218db3fe4144</subsheetid>
    <narrative>
    </narrative>
    <displayx>-225</displayx>
    <displayy>120</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="eb1c15ba-6b27-401e-a8b7-fa1b832c8a1a" name="BuyersData" type="Collection">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>540</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="47133d3c-7b51-4ce9-b9a2-c5b626e1ebad" name="Data Items - Flag" type="Block">
    <narrative>
    </narrative>
    <displayx>-330</displayx>
    <displayy>855</displayy>
    <displaywidth>210</displaywidth>
    <displayheight>210</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="db0b8e1f-fca0-4d95-85c2-c2154a203832" name="flgIsValid" type="Data">
    <narrative>
    </narrative>
    <displayx>-240</displayx>
    <displayy>945</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4524ca48-f6bf-40ec-85f8-69f2a98b8545" name="ValidateData" type="SubSheetInfo">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-465</displayx>
    <displayy>-105</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
  </stage>
  <stage stageid="15585618-ffc7-45cc-b2dd-c1fd400f6ea0" name="Start" type="Start">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-255</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="collection" name="BuyersData" stage="BuyersData" />
    </inputs>
    <onsuccess>56c5edb1-7077-4919-ad55-c2e7b504aa25</onsuccess>
  </stage>
  <stage stageid="a286f161-0459-4392-940f-bfa47fb93198" name="End" type="End">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>1170</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <outputs>
      <output type="collection" name="ValidatedData" stage="BuyersDataValidated" />
    </outputs>
  </stage>
  <stage stageid="e2401d30-d4e5-4970-a2c2-2927daa342ba" name="BuyersData" type="Collection">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-480</displayx>
    <displayy>-15</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ef652357-5b3b-4ff8-b88d-e0381b6febd2" name="flgIsValid" type="Data">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-480</displayx>
    <displayy>45</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b9e0fb6c-3764-4d8c-bc32-45d51bd02df8" name="OneBuyer?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>15</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.HasTwoBuyers] = &quot;HasOneBuyer&quot;" />
    <ontrue>8b735d43-de79-4d8b-98b0-4066c0c44b8c</ontrue>
    <onfalse>cc7eab6e-3eb5-4ca9-865f-35a28ace4a57</onfalse>
  </stage>
  <stage stageid="8b735d43-de79-4d8b-98b0-4066c0c44b8c" name="Buyer1MandatoryFieldsPresent?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>435</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.Buyer1_FirstName]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer1_FamilyName]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer1_DateOfBirth]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer1_MedicareNumber]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer1_MedicarePositionNumber]&lt;&gt;&quot;&quot;" />
    <ontrue>67e70b8c-11b8-47f8-bba2-a17b6664e1b8</ontrue>
    <onfalse>5b945471-1ee4-4429-8780-6cbe2ef98d69</onfalse>
  </stage>
  <stage stageid="0bec3910-6481-49d0-98fe-0019097f1d75" name="SetIsValidTrue" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-75</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>b5e8a63c-b3a8-4fcd-a0bf-6acc7798df22</onsuccess>
    <calculation expression="True" stage="flgIsValid" />
  </stage>
  <stage stageid="5b945471-1ee4-4429-8780-6cbe2ef98d69" name="SetIsValidFalse" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>870</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>aabe816a-9c1e-4ebd-8761-e5e7b6bac26c</onsuccess>
    <calculation expression="False" stage="flgIsValid" />
  </stage>
  <stage stageid="cc7eab6e-3eb5-4ca9-865f-35a28ace4a57" name="Buyer2MandatoryFieldsPresent?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>15</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.Buyer2_FirstName]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer2_FamilyName]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer2_DateOfBirth]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer2_MedicareNumber]&lt;&gt;&quot;&quot;AND[BuyersData.Buyer2_MedicarePositionNumber]&lt;&gt;&quot;&quot;" />
    <ontrue>b99378f7-faff-43b7-ba10-43fdec3ad2f5</ontrue>
    <onfalse>1c879f09-6b42-46af-ba71-eafe034e970a</onfalse>
  </stage>
  <stage stageid="1c879f09-6b42-46af-ba71-eafe034e970a" name="Anchor10" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>330</displayx>
    <displayy>15</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>c7c21ed9-f186-4797-88b9-3fa836abe562</onsuccess>
  </stage>
  <stage stageid="cbd223c6-11f3-4d0c-a48d-23b32e3a4952" name="Anchor11" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>330</displayx>
    <displayy>870</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>5b945471-1ee4-4429-8780-6cbe2ef98d69</onsuccess>
  </stage>
  <stage stageid="67e70b8c-11b8-47f8-bba2-a17b6664e1b8" name="ValidPositionNumberForBuyer1?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-225</displayx>
    <displayy>435</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.Buyer1_MedicarePositionNumber] &gt; 0 AND [BuyersData.Buyer1_MedicarePositionNumber] &lt; 10" />
    <ontrue>1d55cc8b-d31e-422b-adb4-b3210dcdbacb</ontrue>
    <onfalse>82aa4538-658f-4b26-93e5-cd2c99c0e189</onfalse>
  </stage>
  <stage stageid="b99378f7-faff-43b7-ba10-43fdec3ad2f5" name="ValidPositionNumberForBuyer2?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>120</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.Buyer2_MedicarePositionNumber] &gt; 0 AND [BuyersData.Buyer2_MedicarePositionNumber] &lt; 10" />
    <ontrue>f27d56b8-31a8-40b3-a2c7-b6fb8c8a0d80</ontrue>
    <onfalse>c7c21ed9-f186-4797-88b9-3fa836abe562</onfalse>
  </stage>
  <stage stageid="c7c21ed9-f186-4797-88b9-3fa836abe562" name="Anchor8" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>330</displayx>
    <displayy>120</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>ce2e3702-efea-4166-9270-29120535c679</onsuccess>
  </stage>
  <stage stageid="1d55cc8b-d31e-422b-adb4-b3210dcdbacb" name="ValidMedicareNumberForBuyer1?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-420</displayx>
    <displayy>435</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="Len([BuyersData.Buyer1_MedicareNumber]) = 10" />
    <ontrue>0543b593-98b5-4b73-be13-2fdfdd5c4d6a</ontrue>
    <onfalse>8dcf4c06-5b4e-46bb-8625-d2f3bc3df0f0</onfalse>
  </stage>
  <stage stageid="f27d56b8-31a8-40b3-a2c7-b6fb8c8a0d80" name="ValidMedicareNumberForBuyer2?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>225</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>90</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="Len(&quot;BuyersData.Buyer2_MedicareNumber&quot;) = 10" />
    <ontrue>e508ee6f-81cd-4528-95d2-dbe317caccb5</ontrue>
    <onfalse>ce2e3702-efea-4166-9270-29120535c679</onfalse>
  </stage>
  <stage stageid="0543b593-98b5-4b73-be13-2fdfdd5c4d6a" name="AdjustDatesForBuyer1" type="SubSheet">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>435</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="datetime" name="InputDate" expr="[BuyersData.Buyer1_DateOfBirth]" />
    </inputs>
    <outputs>
      <output type="datetime" name="OutputDate" stage="datetimeAdjustedDate" />
    </outputs>
    <onsuccess>c38a1478-1822-4838-ad78-cf978e2fa2f9</onsuccess>
    <processid>a1c7218c-0791-4960-a046-218db3fe4144</processid>
  </stage>
  <stage stageid="c38a1478-1822-4838-ad78-cf978e2fa2f9" name="UpdateDOBForBuyer1" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>495</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>8d6eaa60-4d4c-4099-90de-cc1bc384c7e2</onsuccess>
    <calculation expression="[datetimeAdjustedDate]" stage="BuyersData.Buyer1_DateOfBirth" />
  </stage>
  <stage stageid="8d6eaa60-4d4c-4099-90de-cc1bc384c7e2" name="AgeMoreThan18ForBuyer1?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>870</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[datetimeAdjustedDate] &lt;= [env_DateTime_FHLDS_CutOffDate]" />
    <ontrue>97c7b619-b987-46ec-9c75-3262f7cf4cc6</ontrue>
    <onfalse>8dcf4c06-5b4e-46bb-8625-d2f3bc3df0f0</onfalse>
  </stage>
  <stage stageid="c28cc307-9d76-4133-8283-17c3628f9b78" name="datetimeAdjustedDate" type="Data">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-645</displayx>
    <displayy>30</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c6c77ff3-0cf7-4362-b3c3-e3cffb987fc9" name="Data Items - DateTime" type="Block">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-720</displayx>
    <displayy>-15</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>75</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="03e0db0d-8a8c-429d-a5ac-e7c6f6e135aa" name="env_DateTime_FHLDS_CutOffDate" type="Data">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-675</displayx>
    <displayy>-75</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>datetime</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="52ce74c6-37ec-4d32-916c-46eb343ff22e" name="AgeMoreThan18ForBuyer2?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>435</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[datetimeAdjustedDate] &gt;= [env_DateTime_FHLDS_CutOffDate]" />
    <ontrue>8b735d43-de79-4d8b-98b0-4066c0c44b8c</ontrue>
    <onfalse>bec26cc0-4089-4b4e-98ba-4f1297771d4f</onfalse>
  </stage>
  <stage stageid="e508ee6f-81cd-4528-95d2-dbe317caccb5" name="AdjustDatesForBuyer2" type="SubSheet">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>300</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="datetime" name="InputDate" expr="[BuyersData.Buyer2_DateOfBirth]" />
    </inputs>
    <outputs>
      <output type="datetime" name="OutputDate" stage="datetimeAdjustedDate" />
    </outputs>
    <onsuccess>fadf886d-270f-4185-8783-a35b076d3047</onsuccess>
    <processid>a1c7218c-0791-4960-a046-218db3fe4144</processid>
  </stage>
  <stage stageid="fadf886d-270f-4185-8783-a35b076d3047" name="UpdateDOBForBuyer2" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>225</displayx>
    <displayy>360</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>52ce74c6-37ec-4d32-916c-46eb343ff22e</onsuccess>
    <calculation expression="[datetimeAdjustedDate]" stage="BuyersData.Buyer2_DateOfBirth" />
  </stage>
  <stage stageid="ce2e3702-efea-4166-9270-29120535c679" name="Anchor14" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>330</displayx>
    <displayy>225</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>bec26cc0-4089-4b4e-98ba-4f1297771d4f</onsuccess>
  </stage>
  <stage stageid="bec26cc0-4089-4b4e-98ba-4f1297771d4f" name="Anchor15" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>330</displayx>
    <displayy>435</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>cbd223c6-11f3-4d0c-a48d-23b32e3a4952</onsuccess>
  </stage>
  <stage stageid="8dcf4c06-5b4e-46bb-8625-d2f3bc3df0f0" name="Anchor13" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-420</displayx>
    <displayy>870</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>82aa4538-658f-4b26-93e5-cd2c99c0e189</onsuccess>
  </stage>
  <stage stageid="82aa4538-658f-4b26-93e5-cd2c99c0e189" name="Anchor16" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-225</displayx>
    <displayy>870</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>5b945471-1ee4-4429-8780-6cbe2ef98d69</onsuccess>
  </stage>
  <stage stageid="107d519e-8fb3-4200-85f9-61a359ab2844" name="Validation Loop Start" type="LoopStart">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-135</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>0bec3910-6481-49d0-98fe-0019097f1d75</onsuccess>
    <groupid>20ccf739-4737-4534-8bbb-16caae15e6c2</groupid>
    <looptype>ForEach</looptype>
    <loopdata>BuyersData</loopdata>
  </stage>
  <stage stageid="9a7afdc1-949e-46f5-8c8a-78c6ac7bf474" name="Validation Loop Stop" type="LoopEnd">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>1110</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>a286f161-0459-4392-940f-bfa47fb93198</onsuccess>
    <groupid>20ccf739-4737-4534-8bbb-16caae15e6c2</groupid>
  </stage>
  <stage stageid="85443058-e017-4777-9bba-140ec05ee896" name="ValidateData" type="SubSheet">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>555</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="collection" name="BuyersData" expr="[BuyersData]" />
    </inputs>
    <outputs>
      <output type="collection" name="ValidatedData" stage="BuyersDataValidated" />
    </outputs>
    <onsuccess>fcdd373f-18af-4c9a-b3af-04a3f4e16dc4</onsuccess>
    <processid>468a5db4-53ca-40fa-8219-9a8fa99ea143</processid>
  </stage>
  <stage stageid="ad9c29e9-29e7-49a5-9944-98a0fb69c729" name="BuyersDataValidated" type="Collection">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-480</displayx>
    <displayy>120</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="HasTwoBuyers" type="text" />
      <field name="Buyer1_Title" type="text" />
      <field name="Buyer1_FirstName" type="text" />
      <field name="Buyer1_MiddleName" type="text" />
      <field name="Buyer1_FamilyName" type="text" />
      <field name="Buyer1_DateOfBirth" type="datetime" />
      <field name="Buyer1_MedicareNumber" type="number" />
      <field name="Buyer1_MedicarePositionNumber" type="number" />
      <field name="Buyer2_Title" type="text" />
      <field name="Buyer2_FirstName" type="text" />
      <field name="Buyer2_MiddleName" type="text" />
      <field name="Buyer2_FamilyName" type="text" />
      <field name="Buyer2_DateOfBirth" type="datetime" />
      <field name="Buyer2_MedicareNumber" type="number" />
      <field name="Buyer2_MedicarePositionNumber" type="number" />
      <field name="FileRowNumber" type="number" />
    </collectioninfo>
  </stage>
  <stage stageid="ab2e220b-a636-4a56-8134-57c6de81b82d" name="SetValidCollectionForTwoBuyers" type="MultipleCalculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-270</displayx>
    <displayy>1035</displayy>
    <displaywidth>240</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>aabe816a-9c1e-4ebd-8761-e5e7b6bac26c</onsuccess>
    <steps>
      <calculation expression="[BuyersData.HasTwoBuyers]" stage="BuyersDataValidated.HasTwoBuyers" />
      <calculation expression="[BuyersData.Buyer1_Title]" stage="BuyersDataValidated.Buyer1_Title" />
      <calculation expression="[BuyersData.Buyer1_FirstName]" stage="BuyersDataValidated.Buyer1_FirstName" />
      <calculation expression="[BuyersData.Buyer1_MiddleName]" stage="BuyersDataValidated.Buyer1_MiddleName" />
      <calculation expression="[BuyersData.Buyer1_FamilyName]" stage="BuyersDataValidated.Buyer1_FamilyName" />
      <calculation expression="[BuyersData.Buyer1_DateOfBirth]" stage="BuyersDataValidated.Buyer1_DateOfBirth" />
      <calculation expression="[BuyersData.Buyer1_MedicareNumber]" stage="BuyersDataValidated.Buyer1_MedicareNumber" />
      <calculation expression="[BuyersData.Buyer1_MedicarePositionNumber]" stage="BuyersDataValidated.Buyer1_MedicarePositionNumber" />
      <calculation expression="[BuyersData.Buyer2_Title]" stage="BuyersDataValidated.Buyer2_Title" />
      <calculation expression="[BuyersData.Buyer2_FirstName]" stage="BuyersDataValidated.Buyer2_FirstName" />
      <calculation expression="[BuyersData.Buyer2_MiddleName]" stage="BuyersDataValidated.Buyer2_MiddleName" />
      <calculation expression="[BuyersData.Buyer2_FamilyName]" stage="BuyersDataValidated.Buyer2_FamilyName" />
      <calculation expression="[BuyersData.Buyer2_DateOfBirth]" stage="BuyersDataValidated.Buyer2_DateOfBirth" />
      <calculation expression="[BuyersData.Buyer2_MedicareNumber]" stage="BuyersDataValidated.Buyer2_MedicareNumber" />
      <calculation expression="[BuyersData.Buyer2_MedicarePositionNumber]" stage="BuyersDataValidated.Buyer2_MedicarePositionNumber" />
      <calculation expression="[numRowNumber]" stage="BuyersDataValidated.FileRowNumber" />
    </steps>
  </stage>
  <stage stageid="e3740399-f412-434b-9b56-bc67879f5ee6" name="BuyersDataValidated" type="Collection">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>600</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="HasTwoBuyers" type="text" />
      <field name="Buyer1_Title" type="text" />
      <field name="Buyer1_FirstName" type="text" />
      <field name="Buyer1_MiddleName" type="text" />
      <field name="Buyer1_FamilyName" type="text" />
      <field name="Buyer1_DateOfBirth" type="datetime" />
      <field name="Buyer1_MedicareNumber" type="number" />
      <field name="Buyer1_MedicarePositionNumber" type="number" />
      <field name="Buyer2_Title" type="text" />
      <field name="Buyer2_FirstName" type="text" />
      <field name="Buyer2_MiddleName" type="text" />
      <field name="Buyer2_FamilyName" type="text" />
      <field name="Buyer2_DateOfBirth" type="datetime" />
      <field name="Buyer2_MedicareNumber" type="number" />
      <field name="Buyer2_MedicarePositionNumber" type="number" />
      <field name="FileRowNumber" type="number" />
    </collectioninfo>
  </stage>
  <stage stageid="2a6c463d-6efd-49ca-86f3-6bb292738fdf" name="SetValidCollectionForOneBuyer" type="MultipleCalculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>1110</displayy>
    <displaywidth>240</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>9a7afdc1-949e-46f5-8c8a-78c6ac7bf474</onsuccess>
    <steps>
      <calculation expression="[BuyersData.HasTwoBuyers]" stage="BuyersDataValidated.HasTwoBuyers" />
      <calculation expression="[BuyersData.Buyer1_Title]" stage="BuyersDataValidated.Buyer1_Title" />
      <calculation expression="[BuyersData.Buyer1_FirstName]" stage="BuyersDataValidated.Buyer1_FirstName" />
      <calculation expression="[BuyersData.Buyer1_MiddleName]" stage="BuyersDataValidated.Buyer1_MiddleName" />
      <calculation expression="[BuyersData.Buyer1_FamilyName]" stage="BuyersDataValidated.Buyer1_FamilyName" />
      <calculation expression="[BuyersData.Buyer1_DateOfBirth]" stage="BuyersDataValidated.Buyer1_DateOfBirth" />
      <calculation expression="[BuyersData.Buyer1_MedicareNumber]" stage="BuyersDataValidated.Buyer1_MedicareNumber" />
      <calculation expression="[BuyersData.Buyer1_MedicarePositionNumber]" stage="BuyersDataValidated.Buyer1_MedicarePositionNumber" />
      <calculation expression="[numRowNumber]" stage="BuyersDataValidated.FileRowNumber" />
    </steps>
  </stage>
  <stage stageid="97c7b619-b987-46ec-9c75-3262f7cf4cc6" name="AddRow" type="Action">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>960</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;BuyersDataValidated&quot;" />
    </inputs>
    <onsuccess>b741bfb8-79d9-4ff0-82c4-42494fd70418</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Add Row" />
  </stage>
  <stage stageid="b741bfb8-79d9-4ff0-82c4-42494fd70418" name="OneBuyer?" type="Decision">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-570</displayx>
    <displayy>1035</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[BuyersData.HasTwoBuyers] = &quot;HasOneBuyer&quot;" />
    <ontrue>2a6c463d-6efd-49ca-86f3-6bb292738fdf</ontrue>
    <onfalse>ab2e220b-a636-4a56-8134-57c6de81b82d</onfalse>
  </stage>
  <stage stageid="aabe816a-9c1e-4ebd-8761-e5e7b6bac26c" name="Anchor2" type="Anchor">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>1035</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>9a7afdc1-949e-46f5-8c8a-78c6ac7bf474</onsuccess>
  </stage>
  <stage stageid="f83f55c7-50a8-466f-83d3-15b7c9f0338b" name="env_Flg_FHLDS_StoreAllData" type="Data">
    <narrative>
    </narrative>
    <displayx>-240</displayx>
    <displayy>990</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>flag</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fcdd373f-18af-4c9a-b3af-04a3f4e16dc4" name="StoreDataInQueueItem?" type="Decision">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>645</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <decision expression="[env_Flg_FHLDS_StoreAllData]" />
    <ontrue>1e5708d1-51bd-41c3-9e69-62e7b9e30ad7</ontrue>
    <onfalse>ab897478-d32d-4fe7-a317-94eadcbef880</onfalse>
  </stage>
  <stage stageid="a5cec714-12a3-4a24-9afd-bdcf08de6b4f" name="numRowNumber" type="Data">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>-660</displayx>
    <displayy>120</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="56c5edb1-7077-4919-ad55-c2e7b504aa25" name="InitializeRowNumber" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-195</displayy>
    <displaywidth>90</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>107d519e-8fb3-4200-85f9-61a359ab2844</onsuccess>
    <calculation expression="1" stage="numRowNumber" />
  </stage>
  <stage stageid="b5e8a63c-b3a8-4fcd-a0bf-6acc7798df22" name="IncrementRowNumber" type="Calculation">
    <subsheetid>468a5db4-53ca-40fa-8219-9a8fa99ea143</subsheetid>
    <narrative>
    </narrative>
    <displayx>15</displayx>
    <displayy>-30</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>b9e0fb6c-3764-4d8c-bc32-45d51bd02df8</onsuccess>
    <calculation expression="[numRowNumber] + 1" stage="numRowNumber" />
  </stage>
  <stage stageid="1e5708d1-51bd-41c3-9e69-62e7b9e30ad7" name="Queue Insertion Loop Start" type="LoopStart">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>735</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>0bf3e8a0-b169-4cbf-b4fc-52601a0112d6</onsuccess>
    <groupid>145d29d6-e5cf-4617-8219-53221c5aca1d</groupid>
    <looptype>ForEach</looptype>
    <loopdata>BuyersDataValidated</loopdata>
  </stage>
  <stage stageid="0bde1688-91e4-4573-9665-0dcddec17e7c" name="Queue Insertion Loop Stop" type="LoopEnd">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>1020</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>48fbac7e-79d1-40a1-8e27-37c9dd9be1e4</onsuccess>
    <groupid>145d29d6-e5cf-4617-8219-53221c5aca1d</groupid>
  </stage>
  <stage stageid="86e791f2-e929-49e3-bdc5-0e6805dcc1c7" name="AddToQueue" type="Action">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>900</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Queue Name" narrative="The name of the queue to add items to" expr="[env_Txt_FHLDS_QueueName]" />
      <input type="collection" name="Data" narrative="A collection containing the data, one row for each item to be added" expr="[QueueItemData]" />
      <input type="datetime" name="Defer Until" narrative="Optionally, the date/time the new item(s) should be deferred until" expr="" />
      <input type="number" name="Priority" narrative="Optionally, the priority for the new item(s). Lower numbers represent higher priorities. The default is 0." expr="" />
      <input type="text" name="Tags" narrative="Optionally, a semi-colon-separated set of tags to apply to the queue item(s)" expr="[txtInputFile] &amp; &quot;_&quot; &amp; [BuyersDataValidated.FileRowNumber]" />
      <input type="text" name="Status" narrative="Optionally, the initial status required of the work queue item(s) " expr="" />
    </inputs>
    <outputs>
      <output type="collection" name="Item IDs" narrative="The IDs of the items which have been added to the queue, in the order of the collection of data passed that was input" stage="" />
    </outputs>
    <onsuccess>09f2ef08-83bc-4f3c-a2ee-d6af3763c96d</onsuccess>
    <resource object="Blueprism.Automate.clsWorkQueuesActions" action="Add To Queue" />
  </stage>
  <stage stageid="f9ef0d84-501d-43b2-a69e-fb3eaf2a7e0d" name="PopulateQueueData" type="MultipleCalculation">
    <narrative>
    </narrative>
    <displayx>345</displayx>
    <displayy>855</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>86e791f2-e929-49e3-bdc5-0e6805dcc1c7</onsuccess>
    <steps>
      <calculation expression="[BuyersDataValidated.HasTwoBuyers]" stage="QueueItemData.HasTwoBuyers" />
      <calculation expression="[BuyersDataValidated.Buyer1_Title]" stage="QueueItemData.Buyer1_Title" />
      <calculation expression="[BuyersDataValidated.Buyer1_FirstName]" stage="QueueItemData.Buyer1_FirstName" />
      <calculation expression="[BuyersDataValidated.Buyer1_MiddleName]" stage="QueueItemData.Buyer1_MiddleName" />
      <calculation expression="[BuyersDataValidated.Buyer1_FamilyName]" stage="QueueItemData.Buyer1_FamilyName" />
      <calculation expression="[BuyersDataValidated.Buyer1_DateOfBirth]" stage="QueueItemData.Buyer1_DateOfBirth" />
      <calculation expression="[BuyersDataValidated.Buyer1_MedicareNumber]" stage="QueueItemData.Buyer1_MedicareNumber" />
      <calculation expression="[BuyersDataValidated.Buyer1_MedicarePositionNumber]" stage="QueueItemData.Buyer1_MedicarePositionNumber" />
      <calculation expression="[BuyersDataValidated.Buyer2_Title]" stage="QueueItemData.Buyer2_Title" />
      <calculation expression="[BuyersDataValidated.Buyer2_FirstName]" stage="QueueItemData.Buyer2_FirstName" />
      <calculation expression="[BuyersDataValidated.Buyer2_MiddleName]" stage="QueueItemData.Buyer2_MiddleName" />
      <calculation expression="[BuyersDataValidated.Buyer2_FamilyName]" stage="QueueItemData.Buyer2_FamilyName" />
      <calculation expression="[BuyersDataValidated.Buyer2_DateOfBirth]" stage="QueueItemData.Buyer2_DateOfBirth" />
      <calculation expression="[BuyersDataValidated.Buyer2_MedicareNumber]" stage="QueueItemData.Buyer2_MedicareNumber" />
      <calculation expression="[BuyersDataValidated.Buyer2_MedicarePositionNumber]" stage="QueueItemData.Buyer2_MedicarePositionNumber" />
      <calculation expression="[BuyersDataValidated.FileRowNumber]" stage="QueueItemData.FileRowNumber" />
      <calculation expression="[txtInputFile] &amp; &quot;-&quot; &amp; [BuyersDataValidated.FileRowNumber]" stage="QueueItemData.QueueItemKey" />
    </steps>
  </stage>
  <stage stageid="0bf3e8a0-b169-4cbf-b4fc-52601a0112d6" name="AddRow" type="Action">
    <narrative>Add a row in the collection for the item queue.</narrative>
    <displayx>345</displayx>
    <displayy>795</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;QueueItemData&quot;" />
    </inputs>
    <onsuccess>f9ef0d84-501d-43b2-a69e-fb3eaf2a7e0d</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Add Row" />
  </stage>
  <stage stageid="09f2ef08-83bc-4f3c-a2ee-d6af3763c96d" name="ClearCollection" type="Action">
    <narrative>Clear the collection for the item queue.</narrative>
    <displayx>345</displayx>
    <displayy>960</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;QueueItemData&quot;" />
    </inputs>
    <onsuccess>0bde1688-91e4-4573-9665-0dcddec17e7c</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Remove All Rows" />
  </stage>
  <stage stageid="ab897478-d32d-4fe7-a317-94eadcbef880" name="Anchor3" type="Anchor">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>645</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>000c7af6-426d-4884-a745-9b0403b4209a</onsuccess>
  </stage>
  <stage stageid="5032431f-6bc1-4d91-8bd5-9404acb8056a" name="Anchor4" type="Anchor">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>1080</displayy>
    <displaywidth>10</displaywidth>
    <displayheight>10</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>48fbac7e-79d1-40a1-8e27-37c9dd9be1e4</onsuccess>
  </stage>
  <stage stageid="4348ba43-99e1-4829-ab89-86ec222c30ae" name="QueueItemData" type="Collection">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>675</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="HasTwoBuyers" type="text" />
      <field name="Buyer1_Title" type="text" />
      <field name="Buyer1_FirstName" type="text" />
      <field name="Buyer1_MiddleName" type="text" />
      <field name="Buyer1_FamilyName" type="text" />
      <field name="Buyer1_DateOfBirth" type="datetime" />
      <field name="Buyer1_MedicareNumber" type="number" />
      <field name="Buyer1_MedicarePositionNumber" type="number" />
      <field name="Buyer2_Title" type="text" />
      <field name="Buyer2_FirstName" type="text" />
      <field name="Buyer2_MiddleName" type="text" />
      <field name="Buyer2_FamilyName" type="text" />
      <field name="Buyer2_DateOfBirth" type="datetime" />
      <field name="Buyer2_MedicareNumber" type="number" />
      <field name="Buyer2_MedicarePositionNumber" type="number" />
      <field name="FileRowNumber" type="number" />
      <field name="QueueItemKey" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="58ab73e5-0325-4699-9bd4-090019f8fab2" name="QueueItemReferenceData" type="Collection">
    <narrative>
    </narrative>
    <displayx>-195</displayx>
    <displayy>750</displayy>
    <displaywidth>150</displaywidth>
    <displayheight>60</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="FileRowNumber" type="number" />
      <field name="QueueItemKey" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="000c7af6-426d-4884-a745-9b0403b4209a" name="Queue Insertion Loop Start" type="LoopStart">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>735</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>4fece1d4-0cac-465a-92b4-9c86cd1c2e19</onsuccess>
    <groupid>ba3d1dbb-4542-4f95-b9e2-1eb3b1012365</groupid>
    <looptype>ForEach</looptype>
    <loopdata>BuyersDataValidated</loopdata>
  </stage>
  <stage stageid="379a995c-acfd-454f-9749-68b5dead6c53" name="Queue Insertion Loop Stop" type="LoopEnd">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>1020</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>5032431f-6bc1-4d91-8bd5-9404acb8056a</onsuccess>
    <groupid>ba3d1dbb-4542-4f95-b9e2-1eb3b1012365</groupid>
  </stage>
  <stage stageid="2462ef8e-40a3-4423-8fd8-d8ca3e9c1057" name="AddToQueue" type="Action">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>900</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Queue Name" narrative="The name of the queue to add items to" expr="[env_Txt_FHLDS_QueueName]" />
      <input type="collection" name="Data" narrative="A collection containing the data, one row for each item to be added" expr="[QueueItemReferenceData]" />
      <input type="datetime" name="Defer Until" narrative="Optionally, the date/time the new item(s) should be deferred until" expr="" />
      <input type="number" name="Priority" narrative="Optionally, the priority for the new item(s). Lower numbers represent higher priorities. The default is 0." expr="" />
      <input type="text" name="Tags" narrative="Optionally, a semi-colon-separated set of tags to apply to the queue item(s)" expr="[txtInputFile] &amp; &quot;_&quot; &amp; [BuyersDataValidated.FileRowNumber]" />
      <input type="text" name="Status" narrative="Optionally, the initial status required of the work queue item(s) " expr="" />
    </inputs>
    <outputs>
      <output type="collection" name="Item IDs" narrative="The IDs of the items which have been added to the queue, in the order of the collection of data passed that was input" stage="" />
    </outputs>
    <onsuccess>7165ef45-5936-460b-bcf3-597c5d53dee9</onsuccess>
    <resource object="Blueprism.Automate.clsWorkQueuesActions" action="Add To Queue" />
  </stage>
  <stage stageid="3b4da2ba-6302-40de-a983-5db1642fbf51" name="PopulateQueueData" type="MultipleCalculation">
    <narrative>
    </narrative>
    <displayx>495</displayx>
    <displayy>855</displayy>
    <displaywidth>120</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <onsuccess>2462ef8e-40a3-4423-8fd8-d8ca3e9c1057</onsuccess>
    <steps>
      <calculation expression="[BuyersDataValidated.FileRowNumber]" stage="QueueItemReferenceData.FileRowNumber" />
      <calculation expression="[txtInputFile] &amp; &quot;-&quot; &amp; [BuyersDataValidated.FileRowNumber]" stage="QueueItemReferenceData.QueueItemKey" />
    </steps>
  </stage>
  <stage stageid="4fece1d4-0cac-465a-92b4-9c86cd1c2e19" name="AddRow" type="Action">
    <narrative>Add a row in the collection for the item queue.</narrative>
    <displayx>495</displayx>
    <displayy>795</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;QueueItemReferenceData&quot;" />
    </inputs>
    <onsuccess>3b4da2ba-6302-40de-a983-5db1642fbf51</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Add Row" />
  </stage>
  <stage stageid="7165ef45-5936-460b-bcf3-597c5d53dee9" name="ClearCollection" type="Action">
    <narrative>Clear the collection for the item queue.</narrative>
    <displayx>495</displayx>
    <displayy>960</displayy>
    <displaywidth>60</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <inputs>
      <input type="text" name="Collection Name" narrative="The name of the collection to act upon" expr="&quot;QueueItemReferenceData&quot;" />
    </inputs>
    <onsuccess>379a995c-acfd-454f-9749-68b5dead6c53</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Remove All Rows" />
  </stage>
  <stage stageid="167e7636-5068-419f-af75-db3ccf3bf5cc" name="env_Txt_FHLDS_QueueName" type="Data">
    <narrative>
    </narrative>
    <displayx>-330</displayx>
    <displayy>210</displayy>
    <displaywidth>180</displaywidth>
    <displayheight>30</displayheight>
    <font family="Segoe UI" size="10" style="Regular" color="000000" />
    <datatype>text</datatype>
    <initialvalue />
    <exposure>Environment</exposure>
    <private />
    <alwaysinit />
  </stage>
</process>